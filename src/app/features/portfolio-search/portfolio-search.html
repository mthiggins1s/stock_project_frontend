<div class="search-container">
  <h2>Search for a User Portfolio</h2>

  <form (ngSubmit)="search()">
    <input
      type="text"
      [(ngModel)]="publicId"
      name="publicId"
      placeholder="Enter Public ID"
      required
    />
    <button type="submit">Search</button>
  </form>

  @if (loading) {
    <div>Loading...</div>
  }

  @if (error) {
    <div class="error">{{ error }}</div>
  }

  @if (results.length) {
    <h3>Results for User {{ publicId }}</h3>

    <ul>
      @for (item of results; track $index) {
        <li>
          <strong>{{ item.stock.symbol }}</strong> â€“ 
          {{ item.shares }} shares @ ${{ item.avg_cost }}
          (Current: ${{ item.stock.current_price }})
        </li>
      }
    </ul>
  }
</div>
