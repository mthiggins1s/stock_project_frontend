<nav class="navbar">
  <!-- Left: Brand -->
  <div class="brand">
    <a routerLink="/dashboard">📈 StockFolio</a>
  </div>

  <!-- Middle: Links -->
  <ul class="nav-links">
    @for (link of [
      { path: '/dashboard', label: 'Dashboard' },
      { path: '/portfolio', label: 'Portfolio' },
      { path: '/search', label: 'Search' }
    ]; track link.path) {
      <li>
        <a [routerLink]="link.path" routerLinkActive="active">
          {{ link.label }}
        </a>
      </li>
    }
  </ul>

  <!-- Right: Actions -->
  <div class="actions">
    @if (user?.public_id) {
      <div class="public-id-wrapper">
        <span class="label">Copy Public ID:</span>

        <span
          class="public-id"
          (click)="copyPublicId()"
          title="Click to copy your Public ID"
        >
          {{ revealId ? user?.public_id : '•••••••••••••••••••' }}
        </span>

        <span
          class="eye-icon"
          (click)="toggleReveal()"
          title="Show/Hide Public ID"
        >
          {{ revealId ? '🙈' : '👁️' }}
        </span>
      </div>
    }

    <button (click)="logout()">Logout</button>
  </div>

  <!-- Mobile Hamburger -->
  <div class="hamburger" (click)="toggleMenu()">☰</div>
</nav>

<!-- Mobile Dropdown -->
@if (menuOpen) {
  <div class="mobile-menu">
    @for (link of [
      { path: '/dashboard', label: 'Dashboard' },
      { path: '/portfolio', label: 'Portfolio' },
      { path: '/search', label: 'Search' }
    ]; track link.path) {
      <a
        [routerLink]="link.path"
        routerLinkActive="active"
        (click)="toggleMenu()"
      >
        {{ link.label }}
      </a>
    }

    @if (user?.public_id) {
      <div class="public-id-wrapper">
        <span class="label">Copy Public ID:</span>

        <span
          class="public-id"
          (click)="copyPublicId()"
          title="Click to copy your Public ID"
        >
          {{ revealId ? user?.public_id : '•••••••••••••••••••' }}
        </span>

        <span
          class="eye-icon"
          (click)="toggleReveal()"
          title="Show/Hide Public ID"
        >
          {{ revealId ? '🙈' : '👁️' }}
        </span>
      </div>
    }

    <button (click)="logout()">Logout</button>
  </div>
}
