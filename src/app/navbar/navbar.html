<nav class="navbar">
  <!-- Left: Brand -->
  <div class="brand">
    <a routerLink="/dashboard">📈 StockFolio</a>
  </div>

  <!-- Middle: Nav links -->
  <ul class="nav-links">
    @for (link of [
      { path: '/dashboard', label: 'Dashboard' },
      { path: '/portfolio', label: 'Portfolio' },
      { path: '/search', label: 'Search' }
    ]; track link.path) {
      <li>
        <a routerLink="{{ link.path }}" routerLinkActive="active">{{ link.label }}</a>
      </li>
    }
  </ul>

  <!-- Right: User Info -->
  @if (user) {
    <div class="user-info">
      <span class="welcome">Welcome, {{ user.first_name || user.username }}!</span>

      <div class="public-id-wrapper">
        <span class="label">Public ID:</span>
        <span
          class="public-id"
          (click)="copyPublicId()"
          title="Click to copy your Public ID"
        >
          {{ revealId ? user.public_id : '•••••••••••••••••••' }}
        </span>

        <span
          class="eye-icon"
          (click)="toggleReveal()"
          title="Show/Hide Public ID"
        >
          {{ revealId ? '🙈' : '👁️' }}
        </span>
      </div>

      <button (click)="logout()">Logout</button>
    </div>
  }
</nav>
