<nav class="navbar">
  <!-- Left: Brand -->
  <div class="brand">
    <a routerLink="/dashboard">📈 StockFolio</a>
  </div>

  <!-- Middle: Links -->
  <ul class="nav-links">
    <li>
      <a routerLink="/dashboard" routerLinkActive="active">Dashboard</a>
    </li>
    <li>
      <a routerLink="/portfolio" routerLinkActive="active">Portfolio</a>
    </li>
    <li>
      <a routerLink="/search" routerLinkActive="active">Search</a>
    </li>
  </ul>

  <!-- Right: Actions -->
  <div class="actions">
    @if (user) {
      <div class="public-id-wrapper">
        <span class="label">Copy Public ID:</span>

        <span
          class="public-id"
          (click)="copyPublicId()"
          title="Click to copy your Public ID"
        >
          {{ revealId ? user.public_id : '•••••••••••••••••••' }}
        </span>

        <span
          class="eye-icon"
          (click)="toggleReveal()"
          title="Show/Hide Public ID"
        >
          {{ revealId ? '🙈' : '👁️' }}
        </span>
      </div>

      <button (click)="logout()">Logout</button>
    }
  </div>

  <!-- Mobile Hamburger -->
  <div class="hamburger" (click)="toggleMenu()">☰</div>
</nav>

<!-- Mobile Dropdown -->
@if (menuOpen) {
  <div class="mobile-menu">
    <a routerLink="/dashboard" routerLinkActive="active" (click)="toggleMenu()">
      Dashboard
    </a>
    <a routerLink="/portfolio" routerLinkActive="active" (click)="toggleMenu()">
      Portfolio
    </a>
    <a routerLink="/search" routerLinkActive="active" (click)="toggleMenu()">
      Search
    </a>

    @if (user) {
      <div class="public-id-wrapper">
        <span class="label">Copy Public ID:</span>

        <span
          class="public-id"
          (click)="copyPublicId()"
          title="Click to copy your Public ID"
        >
          {{ revealId ? user.public_id : '•••••••••••••••••••' }}
        </span>

        <span
          class="eye-icon"
          (click)="toggleReveal()"
          title="Show/Hide Public ID"
        >
          {{ revealId ? '🙈' : '👁️' }}
        </span>
      </div>

      <button (click)="logout()">Logout</button>
    }
  </div>
}
